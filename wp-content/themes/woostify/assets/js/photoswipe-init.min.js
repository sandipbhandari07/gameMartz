"use strict";function initPhotoSwipe(e,t){var r=!1,i=function e(t,r){return t&&(r(t)?t:e(t.parentNode,r))},n=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=(e.target||e.srcElement).closest(".product-images"),r=t.querySelectorAll(".image-item")[0];if(t.querySelector(".flickity-slider")&&(r=t.querySelector(".image-item.is-selected")),r){for(var i,n=r.parentNode,a=r.parentNode.childNodes,o=a.length,s=0,c=0;c<o;c++)if(1===a[c].nodeType){if(a[c]===r){i=s;break}s++}return i>=0&&l(i,n),!1}},a=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement;if("A"!==t.tagName.toUpperCase()){var r=i(t,(function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()}));if(r){for(var n,a=r.parentNode,o=r.parentNode.childNodes,s=o.length,c=0,u=0;u<s;u++)if(1===o[u].nodeType){if(o[u]===r){n=c;break}c++}return n>=0&&l(n,a),!1}}},l=function(e,t,i,n){var a,l,o,s=document.querySelector(".pswp");if(o=function(e){for(var t,r,i,n,a=e.childNodes,l=a.length,o=[],s=0;s<l;s++)1===(t=a[s]).nodeType&&(r=t.children[0]).getAttribute("href")&&(i=r.getAttribute("data-size").split("x"),n={src:r.getAttribute("href"),w:parseInt(i[0],10),h:parseInt(i[1],10)},r.children.length>0&&(n.msrc=r.children[0].getAttribute("src")),n.el=t,o.push(n));return o}(t),l={galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=o[e].el.getElementsByTagName("img")[0],r=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+r,w:i.width}}},n)if(l.galleryPIDs){for(var c=0,u=o.length;c<u;c++)if(o[c].pid==e){l.index=c;break}}else l.index=parseInt(e,10)-1;else l.index=parseInt(e,10);if(!isNaN(l.index)){i&&(l.showAnimationDuration=0),(a=new PhotoSwipe(s,PhotoSwipeUI_Default,o,l)).init();a.listen("gettingData",(function(){if(!r){r=!0;var e=document.querySelectorAll(".pswp__thumbnails");e.length&&e.forEach((function(e){e.remove()})),setTimeout((function(){!function(e){var t=e.scrollWrap,r=document.querySelector(".product-gallery"),i=document.createElement("div");if(i.classList.add("pswp__thumbnails"),!r)return;var n=r.querySelector("#product-thumbnail-images");if(n){var a=n.querySelector(".flickity-slider");i.innerHTML=a?a.innerHTML:n.innerHTML}else Object.keys(e.items).forEach((function(t){var r=e.items[t],n=document.createElement("div"),a=document.createElement("img");a.setAttribute("src",r.msrc),n.classList.add("thumbnail-item"),n.appendChild(a),i.appendChild(n)}));Object.keys(e.items).forEach((function(t){var r=i.children[t];r.removeAttribute("style"),r.classList.remove("is-selected","is-nav-selected"),e.getCurrentIndex()==t&&r.classList.add("active"),r.addEventListener("click",(function(){e.goTo(e.items.indexOf(e.items[t]))}))})),t.parentNode.insertBefore(i,t.nextSibling)}(a)}),200)}})),a.listen("close",(function(){var e=a.scrollWrap.closest(".pswp").querySelector(".pswp__thumbnails");e&&(e.remove(),r=!1)})),a.listen("afterChange",(function(){var e=a.scrollWrap.closest(".pswp").querySelector(".pswp__thumbnails");e&&Object.keys(a.items).forEach((function(t){var r=e.children[t];r.classList.remove("active"),a.getCurrentIndex()==t&&r.classList.add("active")}))}))}};for(var o=document.querySelectorAll(e),s=0,c=o.length;s<c;s++){var u=o[s].closest(".product-images").querySelector(".photoswipe-toggle-button");o[s].setAttribute("data-pswp-uid",s+1),"button"===t?u.onclick=n:o[s].onclick=a}var d=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var r=e.split("&"),i=0,n=r.length;i<n;i++)if(r[i]){var a=r[i].split("=");a.length<2||(t[a[0]]=a[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();d.pid&&d.gid&&l(d.pid,o[d.gid-1],!0,!0)}var gallery=document.querySelector(".product-gallery"),noSliderLayout=!!gallery&&(gallery.classList.contains("column-style")||gallery.classList.contains("grid-style"));gallery&&(gallery.classList.contains("wc-default-gallery")||noSliderLayout&&window.matchMedia("( min-width: 992px )").matches?initPhotoSwipe("#product-images","image"):initPhotoSwipe("#product-images","button"));